--создать ВМ с Ubuntu 20.04/22.04 или развернуть докер любым удобным способом
--поставить на нем Docker Engine

--у меня дебиан 12
curl -fsSL https://download.docker.com/linux/debian/gpg \
  | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

echo \
  "deb [arch=$(dpkg --print-architecture) \
  signed-by=/etc/apt/keyrings/docker.gpg] \
  https://download.docker.com/linux/debian \
  bookworm stable" \
  | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt update

sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

--сделать каталог /var/lib/postgres

sudo mkdir -p /var/lib/postgres

--развернуть контейнер с PostgreSQL 15 смонтировав в него /var/lib/postgresql

sudo docker run -d --name pg15 -e POSTGRES_PASSWORD=pg123 -v /var/lib/postgres:/var/lib/postgresql/data -p 5432:5432 postgres:15

--развернуть контейнер с клиентом postgres

sudo docker run -d --name pg-client --network host postgres:15 sleep infinity

--подключится из контейнера с клиентом к контейнеру с сервером и сделать таблицу с парой строк

sudo docker exec -it pg-client psql -h localhost -U postgres
create table t1(id int);
insert into t1 select 1;

--подключится к контейнеру с сервером с ноутбука/компьютера извне инстансов ЯО/места установки докера

-- через dbeaver успех

--удалить контейнер с сервером

sudo docker stop pg15
sudo docker rm pg15

--создать его заново

sudo docker run -d   --name pg15   -e POSTGRES_PASSWORD=pg123   -v /var/lib/postgres:/var/lib/postgresql/data   -p 5432:5432   postgres:15

--подключится снова из контейнера с клиентом к контейнеру с сервером

sudo docker exec -it pg-client psql -h localhost -U postgres

--проверить, что данные остались на месте

-- данные на месте

--оставляйте в ЛК ДЗ комментарии что и как вы делали и как боролись с проблемами

--особо проблем не было, единственно пришлось чатгпт подключить что бы разобраться с:
--развернуть контейнер с клиентом postgres
--подключится из контейнера с клиентом к контейнеру с сервером
